(function(){var e={3482:function(e,t,n){"use strict";n.r(t),t["default"]={goals:e=>{const{normalize:t}=e;return t(["goals"])},last_week_completed:e=>{const{normalize:t}=e;return t(["Last week completed"])},toggle_dark_theme:e=>{const{normalize:t}=e;return t(["Toggle Dark Theme"])},happy_new_year:e=>{const{normalize:t}=e;return t(["Happy new year"])},so_far_done:e=>{const{normalize:t}=e;return t(["So far done"])},week:e=>{const{normalize:t}=e;return t(["week"])},weekly_goals:e=>{const{normalize:t}=e;return t(["Weekly goals"])}}},5343:function(e,t,n){"use strict";n.r(t),t["default"]={goals:e=>{const{normalize:t}=e;return t(["eesmärki"])},last_week_completed:e=>{const{normalize:t}=e;return t(["Eelmine nädal täidetud"])},toggle_dark_theme:e=>{const{normalize:t}=e;return t(["Tume teema"])},happy_new_year:e=>{const{normalize:t}=e;return t(["Head uut aastat!"])},so_far_done:e=>{const{normalize:t}=e;return t(["Siiani täidetud"])},week:e=>{const{normalize:t}=e;return t(["nädal"])},weekly_goals:e=>{const{normalize:t}=e;return t(["Nädala eesmärgid"])}}},1993:function(e){function t(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}t.keys=function(){return[]},t.resolve=t,t.id=1993,e.exports=t},1875:function(e){function t(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}t.keys=function(){return[]},t.resolve=t,t.id=1875,e.exports=t},7636:function(e,t,n){"use strict";var o=n(9963),r=n(6252);function a(e,t,n,o,a,s){const u=(0,r.up)("ion-router-outlet"),i=(0,r.up)("ion-app");return(0,r.wg)(),(0,r.j4)(i,null,{default:(0,r.w5)((()=>[(0,r.Wm)(u)])),_:1})}var s=n(943),u=n(387),i=(0,r.aZ)({name:"App",components:{IonApp:s.dr,IonRouterOutlet:s.jP},setup(){const e=(0,u.o)();return{store:e}},created(){this.store.fetchData().then(this.store.getFullData)},mounted(){this.store.isDarkMode=document.body.classList.toggle("dark",this.store.prefersDark.matches)}}),l=n(3744);const c=(0,l.Z)(i,[["render",a]]);var d=c,f=n(5724),p=n(9669),h=n.n(p),m=n(2346),g=(n(8851),n(1292),n(1633),n(1045),n(6187),n(2299),n(3423),n(4687),n(9147),n(6250),n(3324));function b(){const e=n(8092),t={};return e.keys().forEach((n=>{const o=n.match(/([A-Za-z0-9-_]+)\./i);if(o&&o.length>1){const r=o[1];t[r]=e(n).default}})),t}var y=(0,g.o)({globalInjection:!0,legacy:!1,locale:"en",fallbackLocale:"en",messages:b()}),v=n(1575);const k=(0,o.ri)(d).use((0,v.WB)()).use(y).use(s.oX).use(f.Z).use(f.Z).use(m.Z,h());f.Z.isReady().then((()=>{k.mount("#app")}))},5724:function(e,t,n){"use strict";n.d(t,{Z:function(){return A}});var o=n(1089),r=n(6252);function a(e,t,n,o,a,s){const u=(0,r.up)("TheNavbar"),i=(0,r.up)("ion-router-outlet"),l=(0,r.up)("BottomButtons"),c=(0,r.up)("ion-tabs"),d=(0,r.up)("ion-page");return(0,r.wg)(),(0,r.j4)(d,null,{default:(0,r.w5)((()=>[(0,r.Wm)(c,null,{default:(0,r.w5)((()=>[(0,r.Wm)(u),(0,r.Wm)(i),(0,r.Wm)(l)])),_:1})])),_:1})}var s=n(943);const u=(0,r.Uk)("Tab 1"),i=(0,r.Uk)("Tab 2"),l=(0,r.Uk)("Tab 3");function c(e,t,n,o,a,s){const c=(0,r.up)("ion-icon"),d=(0,r.up)("ion-label"),f=(0,r.up)("ion-tab-button"),p=(0,r.up)("ion-tab-bar");return(0,r.wg)(),(0,r.j4)(p,{slot:"bottom"},{default:(0,r.w5)((()=>[(0,r.Wm)(f,{tab:"tab1",href:"/tabs/tab1"},{default:(0,r.w5)((()=>[(0,r.Wm)(c,{icon:o.triangle},null,8,["icon"]),(0,r.Wm)(d,null,{default:(0,r.w5)((()=>[u])),_:1})])),_:1}),(0,r.Wm)(f,{tab:"tab2",href:"/tabs/tab2"},{default:(0,r.w5)((()=>[(0,r.Wm)(c,{icon:o.ellipse},null,8,["icon"]),(0,r.Wm)(d,null,{default:(0,r.w5)((()=>[i])),_:1})])),_:1}),(0,r.Wm)(f,{tab:"tab3",href:"/tabs/tab3"},{default:(0,r.w5)((()=>[(0,r.Wm)(c,{icon:o.square},null,8,["icon"]),(0,r.Wm)(d,null,{default:(0,r.w5)((()=>[l])),_:1})])),_:1})])),_:1})}var d=n(8903),f={name:"BottomButtons",components:{IonLabel:s.Q$,IonTabBar:s.yq,IonTabButton:s.ZU,IonIcon:s.gu},setup(){return{ellipse:d.Hpm,square:d.h62,triangle:d.cPZ}}},p=n(3744);const h=(0,p.Z)(f,[["render",c]]);var m=h,g=n(3577);function b(e,t,n,o,a,s){const u=(0,r.up)("ion-back-button"),i=(0,r.up)("ion-buttons"),l=(0,r.up)("ion-title"),c=(0,r.up)("TheUserAuthButton"),d=(0,r.up)("ion-toolbar"),f=(0,r.up)("ion-header");return(0,r.wg)(),(0,r.j4)(f,null,{default:(0,r.w5)((()=>[(0,r.Wm)(d,null,{default:(0,r.w5)((()=>[(0,r.Wm)(i,{slot:"start"},{default:(0,r.w5)((()=>[(0,r.Wm)(u)])),_:1}),(0,r.Wm)(l,null,{default:(0,r.w5)((()=>[(0,r.Uk)((0,g.zw)(e.$t("weekly_goals")),1)])),_:1}),(0,r.Wm)(i,{slot:"end"},{default:(0,r.w5)((()=>[(0,r.Wm)(c)])),_:1})])),_:1})])),_:1})}const y=(0,r.Uk)(" Log out "),v=(0,r.Uk)(" Settings ");function k(e,t,n,o,a,s){const u=(0,r.up)("ion-icon"),i=(0,r.up)("ion-button"),l=(0,r.up)("ion-label"),c=(0,r.up)("ion-item"),d=(0,r.up)("ion-list"),f=(0,r.up)("ion-content"),p=(0,r.up)("ion-popover");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(i,{id:"trigger-button"},{default:(0,r.w5)((()=>[(0,r.Wm)(u,{slot:"start",icon:o.personCircleOutline},null,8,["icon"])])),_:1}),(0,r.Wm)(p,{trigger:"trigger-button","show-backdrop":"false","dismiss-on-select":"true"},{default:(0,r.w5)((()=>[(0,r.Wm)(f,null,{default:(0,r.w5)((()=>[(0,r.Wm)(d,null,{default:(0,r.w5)((()=>[(0,r.Wm)(c,{button:"",onClick:o.store.signUserOut},{default:(0,r.w5)((()=>[(0,r.Wm)(u,{slot:"start",icon:o.logOutOutline},null,8,["icon"]),(0,r.Wm)(l,null,{default:(0,r.w5)((()=>[y])),_:1})])),_:1},8,["onClick"]),(0,r.Wm)(c,{button:"",onClick:t[0]||(t[0]=t=>e.$router.push("/tabs/settings"))},{default:(0,r.w5)((()=>[(0,r.Wm)(u,{slot:"start",icon:o.settingsOutline},null,8,["icon"]),(0,r.Wm)(l,null,{default:(0,r.w5)((()=>[v])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})],64)}var w=n(387),_={name:"TheUserAuthButton",components:{IonIcon:s.gu,IonButton:s.YG,IonContent:s.W2,IonPopover:s.d8,IonItem:s.Ie,IonLabel:s.Q$},setup(){const e=(0,w.o)();return{store:e,personCircleOutline:d.XMB,logOutOutline:d.euS,settingsOutline:d.C$N}}};const W=(0,p.Z)(_,[["render",k],["__scopeId","data-v-201f5de0"]]);var D=W,O={name:"TheNavbar",components:{IonHeader:s.Gu,IonToolbar:s.sr,IonTitle:s.wd,IonBackButton:s.oU,TheUserAuthButton:D}};const I=(0,p.Z)(O,[["render",b]]);var T=I,C=(0,r.aZ)({name:"TabsPage",components:{IonTabs:s.UN,IonPage:s._i,IonRouterOutlet:s.jP,BottomButtons:m,TheNavbar:T}});const E=(0,p.Z)(C,[["render",a]]);var B=E,U=n(7218);const S=[{path:"/",redirect:"/tabs/tab1"},{name:"Register",path:"/register",component:()=>n.e(398).then(n.bind(n,2398))},{name:"SignIn",path:"/sign-in",component:()=>n.e(967).then(n.bind(n,967))},{path:"/tabs/",component:B,children:[{path:"",redirect:"/tabs/tab1"},{path:"tab1",component:()=>n.e(584).then(n.bind(n,3584))},{path:"tab2",component:()=>n.e(994).then(n.bind(n,2994))},{path:"tab3",component:()=>n.e(832).then(n.bind(n,1832))},{path:"settings",component:()=>n.e(822).then(n.bind(n,822))}]}],j=(0,o.p7)({history:(0,o.PO)("/"),routes:S});j.beforeEach(((e,t,n)=>{"/sign-in"===e.path||"/register"===e.path||(0,U.v0)().currentUser?n():n({name:"SignIn"})}));var A=j},387:function(e,t,n){"use strict";n.d(t,{o:function(){return h}});n(1703);var o=n(1575),r=n(9669),a=n.n(r),s=n(1971),u=n(8226),i=n(4843),l=n(5503),c=n(7218);const d={apiKey:"AIzaSyC3k43EsDp4ZmHrVXe51I6fdv3oDkuDvOY",authDomain:"accounta-buddy-app-vue.firebaseapp.com",projectId:"accounta-buddy-app-vue",storageBucket:"accounta-buddy-app-vue.appspot.com",messagingSenderId:"922982835572",appId:"1:922982835572:web:e7f19231dc5519133cb821",measurementId:"G-CF20KQ25BY"};(0,l.ZF)(d);const f=(0,c.v0)();var p=n(5724);const h=(0,o.Q_)({id:"store",state:()=>({sheetId:"18HHwYvBYnJJMlEsIPv98lH5gc5H7PTLBO7h5Y2mc3hs",apiKey:"AIzaSyCu3eywuilXrvgyLneIpxMOAFZkL9bxqmg",fullLink:"https://docs.google.com/spreadsheets/d/18HHwYvBYnJJMlEsIPv98lH5gc5H7PTLBO7h5Y2mc3hs/edit?usp=sharing",sheet:"2023",range:"A17:E328",fullData:[],modules:[s.SH,s.tl,u.L$],todayDate:new Date,todayWeek:(0,i.Z)(new Date),peopleWeeklyCompleteness:[],isDarkMode:document.body.classList.contains("dark"),prefersDark:window.matchMedia("(prefers-color-scheme: dark)")}),actions:{async register(e,t){await(0,c.Xb)(f,e,t).then((e=>{alert("Successfully registered! Please login."),p.Z.push("/")})).catch((e=>{alert(e.message)}))},async signIn(e,t){await(0,c.e5)(f,e,t).then((e=>{if(!e)throw new Error("login failed");p.Z.push("/")}))},async signUserOut(){await(0,c.w7)(f).then((()=>{p.Z.push("/sign-in")}))},async fetchData(){this.fullData=await a().get(`https://sheets.googleapis.com/v4/spreadsheets/${this.sheetId}/values/${this.sheet}!${this.range}?key=${this.apiKey}`).then((e=>e.data["values"])).then((e=>{const t=5,n=[],o=[],r=[];let a=0;for(const s in e)if(1===e[s].length){a++;const u=(e[+s+1].length-1)/2,i=e[s][0],l=[],c=new Array(u).fill(!0);for(let n=0;n<u;n++){const u=[],i="buddy_"+n;let d=0;for(let r=0;r<t;r++){const t="TRUE"===e[+s+1+r][2*+n+2].toUpperCase();u.push({taskId:n+"_"+s+"1_"+ +r,description:e[+s+1+r][2*+n+1],isDone:t}),o[n]||(o[n]=0),t||(c[n]=!1),t&&"number"===typeof o[n]&&o[n]++,t&&d++}c[n]?r[n]++:r[n]=0;const f={userId:i,name:i,tasks:u,nrOfTasksDoneThisYear:o[n],perfectWeekStreak:r[n]};!this.peopleWeeklyCompleteness[n]&&a<=this.todayWeek&&(this.peopleWeeklyCompleteness[n]=[]),a<=this.todayWeek&&this.peopleWeeklyCompleteness[n].push(d/t),l.push(f)}n.push({startDate:i,weeklyData:l})}return n})).catch((e=>(console.error(e),[]))),this.setDateAttributes()},setDateAttributes(){this.todayDate=new Date,this.todayWeek=(0,i.Z)(this.todayDate)},getGoalsDoneSoFar(e,t){return e<0||e>51?null:this.fullData[e].weeklyData[t].nrOfTasksDoneThisYear},getNextWeekWrittenGoalsByWeekAndPersonIndex(e,t){if(e<0)return null;try{return this.fullData[e].weeklyData[t].tasks.filter((e=>e.description.trim().length>0)).length}catch(n){return console.error(n.message),0}},getDoneWeeklyGoalsByWeekAndPersonIndex(e,t){if(e<0)return null;try{return this.fullData[e].weeklyData[t].tasks.filter((e=>e.isDone)).length}catch(n){console.error(n.message)}},getStreakForUser(e){return this.fullData[this.$state.todayWeek-2].weeklyData[e].perfectWeekStreak},getCompletenessesForUser(e,t){return this.peopleWeeklyCompleteness[e].slice(this.peopleWeeklyCompleteness[e].length-t,this.peopleWeeklyCompleteness[e].length)},getFullData(){return this.fullData}}})},8092:function(e,t,n){var o={"./en.json":3482,"./et.json":5343};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=a,e.exports=r,r.id=8092}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={id:o,loaded:!1,exports:{}};return e[o](a,a.exports,n),a.loaded=!0,a.exports}n.m=e,function(){n.amdO={}}(),function(){var e=[];n.O=function(t,o,r,a){if(!o){var s=1/0;for(c=0;c<e.length;c++){o=e[c][0],r=e[c][1],a=e[c][2];for(var u=!0,i=0;i<o.length;i++)(!1&a||s>=a)&&Object.keys(n.O).every((function(e){return n.O[e](o[i])}))?o.splice(i--,1):(u=!1,a<s&&(s=a));if(u){e.splice(c--,1);var l=r();void 0!==l&&(t=l)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[o,r,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,o){return n.f[o](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/"+e+"."+{78:"22a48abc",168:"d8ccf27a",338:"7706a4a7",398:"7fcafdb1",515:"7879f671",541:"a810080e",544:"ab147465",576:"11a4d508",584:"2f655d89",753:"eea5f28e",775:"eabc5de3",822:"737228d7",832:"edfad4b2",880:"1c12c32f",967:"1939ce04",990:"7a520a00",994:"fa7369f2"}[e]+".js"}}(),function(){n.miniCssF=function(e){return"css/"+e+"."+{398:"e4c96cf9",584:"8b207d82",822:"734293fb",832:"1ba88992",967:"e4c96cf9",994:"7812a696"}[e]+".css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.hmd=function(e){return e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e}}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="accounta-buddy-app-vue:";n.l=function(o,r,a,s){if(e[o])e[o].push(r);else{var u,i;if(void 0!==a)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var d=l[c];if(d.getAttribute("src")==o||d.getAttribute("data-webpack")==t+a){u=d;break}}u||(i=!0,u=document.createElement("script"),u.charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=o),e[o]=[r];var f=function(t,n){u.onerror=u.onload=null,clearTimeout(p);var r=e[o];if(delete e[o],u.parentNode&&u.parentNode.removeChild(u),r&&r.forEach((function(e){return e(n)})),t)return t(n)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=f.bind(null,u.onerror),u.onload=f.bind(null,u.onload),i&&document.head.appendChild(u)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/"}(),function(){var e=function(e,t,n,o){var r=document.createElement("link");r.rel="stylesheet",r.type="text/css";var a=function(a){if(r.onerror=r.onload=null,"load"===a.type)n();else{var s=a&&("load"===a.type?"missing":a.type),u=a&&a.target&&a.target.href||t,i=new Error("Loading CSS chunk "+e+" failed.\n("+u+")");i.code="CSS_CHUNK_LOAD_FAILED",i.type=s,i.request=u,r.parentNode.removeChild(r),o(i)}};return r.onerror=r.onload=a,r.href=t,document.head.appendChild(r),r},t=function(e,t){for(var n=document.getElementsByTagName("link"),o=0;o<n.length;o++){var r=n[o],a=r.getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(a===e||a===t))return r}var s=document.getElementsByTagName("style");for(o=0;o<s.length;o++){r=s[o],a=r.getAttribute("data-href");if(a===e||a===t)return r}},o=function(o){return new Promise((function(r,a){var s=n.miniCssF(o),u=n.p+s;if(t(s,u))return r();e(o,u,r,a)}))},r={143:0};n.f.miniCss=function(e,t){var n={398:1,584:1,822:1,832:1,967:1,994:1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=o(e).then((function(){r[e]=0}),(function(t){throw delete r[e],t})))}}(),function(){var e={143:0};n.f.j=function(t,o){var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)o.push(r[2]);else{var a=new Promise((function(n,o){r=e[t]=[n,o]}));o.push(r[2]=a);var s=n.p+n.u(t),u=new Error,i=function(o){if(n.o(e,t)&&(r=e[t],0!==r&&(e[t]=void 0),r)){var a=o&&("load"===o.type?"missing":o.type),s=o&&o.target&&o.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+s+")",u.name="ChunkLoadError",u.type=a,u.request=s,r[1](u)}};n.l(s,i,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,o){var r,a,s=o[0],u=o[1],i=o[2],l=0;if(s.some((function(t){return 0!==e[t]}))){for(r in u)n.o(u,r)&&(n.m[r]=u[r]);if(i)var c=i(n)}for(t&&t(o);l<s.length;l++)a=s[l],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(c)},o=self["webpackChunkaccounta_buddy_app_vue"]=self["webpackChunkaccounta_buddy_app_vue"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(7636)}));o=n.O(o)})();
//# sourceMappingURL=app.cd6a8c21.js.map